"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[808],{9808:function(e,r,a){a.r(r);var n=a(4942),s=a(1413),t=a(9439),i=a(2791),o=a(6030),l=a(6871),d=a(577),u=a(4238),c=a(2794),p=a(184),f={name:"",phone:"",gymId:"",address:"",paid:!1,joinDate:"",planName:"",validity:"",active:""};r.default=function(){var e=(0,i.useState)(f),r=(0,t.Z)(e,2),a=r[0],h=r[1],m=(0,i.useState)(!1),v=(0,t.Z)(m,2),g=v[0],b=v[1],y=(0,i.useState)(""),j=(0,t.Z)(y,2),Z=j[0],k=j[1],x=(0,i.useState)(""),A=(0,t.Z)(x,2),w=A[0],C=A[1],N=(0,o.v9)((function(e){return(0,s.Z)({},e)})).user,O=(0,o.I0)(),D=(0,l.s0)();(0,i.useEffect)((function(){if("admin"===N.role);else if("manager"!==N.role)return O({type:"LOGOUT",payload:null}),void D("/login")}),[N]);var E=/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/;return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)("div",{className:"container-fluid",children:(0,p.jsx)("div",{className:"row",children:(0,p.jsx)("div",{className:"col",children:(0,p.jsx)(c.Yb,{children:(0,p.jsx)(c.M6,{values:a,submitHandler:function(e){if(e.preventDefault(),!E.test(a.phone))return d.Am.error("Enter a Valid Phone Number");if(console.table(a),!a.name||!a.gymId||!a.address||!a.active)return d.Am.error("All are Required Fields");b(!0);var r={values:a,planType:w,planDuration:Z};(0,u.wK)(N.token,r).then((function(e){b(!1),d.Am.success("User Added")})).catch((function(e){if(b(!1),"undefined"!==e.response.data.dbError&&!0===e.response.data.dbError)return d.Am.error("User with this  ".concat(Object.keys(e.response.data.err),"  already exists"));console.log(e.response.data),d.Am.error(e.response.data.err,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))},handleChange:function(e){h((0,s.Z)((0,s.Z)({},a),{},(0,n.Z)({},e.target.name,e.target.value)))},loading:g,setValues:h,setPlanDuration:k,setPlanType:C,planType:w})})})})})})}}}]);
//# sourceMappingURL=808.4206a8a8.chunk.js.map