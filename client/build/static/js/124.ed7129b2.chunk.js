"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[124],{7124:function(e,t,n){n.r(t),n.d(t,{default:function(){return k}});var o=n(4942),l=n(5861),r=n(9439),s=n(1413),a=n(7757),c=n.n(a),i=n(2791),d=n(6030),u=n(4238),h=n(7022),p=n(3360),m=n(4849),f=n(9743),x=n(9092),y=n(2794),b=n(577),g=n(6871),j=n(184),k=function(){var e,t=(0,d.v9)((function(e){return(0,s.Z)({},e)})),n=t.user,a=t.filterApplied,k=(0,i.useState)([]),v=(0,r.Z)(k,2),C=v[0],Z=v[1],w=(0,i.useState)(0),I=(0,r.Z)(w,2),N=I[0],A=I[1],E=(0,i.useState)(1),P=(0,r.Z)(E,2),S=P[0],L=P[1],F=(0,i.useState)(""),R=(0,r.Z)(F,2),G=R[0],T=R[1],_=(0,i.useState)(""),D=(0,r.Z)(_,2),U=D[0],V=D[1],q=(0,i.useState)(!1),z=(0,r.Z)(q,2),O=z[0],W=z[1],B=(0,d.I0)(),H=(0,g.s0)();(0,i.useEffect)((function(){if(n&&null!=n)if("admin"===n.role);else if("manager"!==n.role)return B({type:"LOGOUT",payload:null}),void H("/login")}),[n]),(0,i.useEffect)((function(){M()}),[]),(0,i.useEffect)((function(){Q()}),[S]);var M=function(){var e=(0,l.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,u.Xk)(n.token).then((function(e){A(e.data),console.log(e.data)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e={sort:"gymId",order:"asc",page:S,perPage:10};B({type:"FILTER_APPLIED",payload:!1}),(0,u.jU)(n.token,e).then((function(e){Z(e.data)})).catch((function(e){console.log(e),b.Am.error(e.response.data.err)}))},X=function(){if(""==U||""==G)return b.Am.error("Please Fill All Required Fields in Format");Z([]),Y()},Y=function(){var e={keyWord:U,sortBy:G};if(W(!0),B({type:"FILTER_APPLIED",payload:!0}),"gymId"==G||"phone"==G){if(console.log(parseInt(U)),"NaN"==parseInt(U))return b.Am.error("Please Enter Valid Number Without e");V(U.toLowerCase())}(0,u.s)(n.token,e).then((function(e){Z(e.data),console.log(e.data),A(C.length),console.log(e.data),W(!1)})).catch((function(e){console.log(e),W(!1),b.Am.error(e.response.data.err)}))},J="text";return"gymId"!=G&&"phone"!=G||(J="number"),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(h.Z,{children:[a&&(0,j.jsx)(p.Z,(e={className:"clearbtn btn-sm",style:{marginTop:"-10px"},onClick:function(){B({type:"SEARCH_QUERY",payload:{text:""}}),V(""),T(""),Z([]),Q(),M()}},(0,o.Z)(e,"style",{position:"fixed",bottom:150,right:20,zIndex:2}),(0,o.Z)(e,"children","Clear"),e)),(0,j.jsx)("h4",{className:"text-center",children:"Customers List"}),(0,j.jsx)("div",{children:(0,j.jsx)("form",{className:"form-inline my-2 my-lg-0",onSubmit:X,children:(0,j.jsxs)("div",{className:"input-group mb-3",style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},children:[(0,j.jsxs)("select",{style:{background:"#48afea",borderColor:"none",borderRadius:"5px",color:"white",height:"40px"},required:!0,value:G,onChange:function(e){return T(e.target.value)},children:[(0,j.jsx)("option",{value:"",style:{color:"black",backgroundColor:"white"},children:"select filter"}),(0,j.jsx)("option",{style:{color:"black",backgroundColor:"white"},value:"name",children:"Name"}),(0,j.jsx)("option",{style:{color:"black",backgroundColor:"white"},value:"gymId",children:"Gym Id"}),(0,j.jsx)("option",{style:{color:"black",backgroundColor:"white"},value:"phone",children:"Phone"})]}),(0,j.jsx)("input",{type:J,value:U,style:{height:"40px",flexGrow:1},onChange:function(e){return V(e.target.value)},disabled:!G,placeholder:G?"Search ".concat(G):"select filter"}),O?(0,j.jsxs)(p.Z,{variant:"primary",className:"btn-sm btn-danger mt-3",disabled:!0,style:{top:"-8px",height:"40px"},children:[(0,j.jsx)(m.Z,{as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true"}),"  ","Loading..."]}):(0,j.jsx)(p.Z,{className:"btn-raised mt-3",variant:"primary",onClick:function(){return X()},style:{top:"-8px",height:"40px"},children:"Search"})]})})}),C.length?(0,j.jsx)(h.Z,{children:(0,j.jsx)("div",{children:(0,j.jsxs)("table",{className:"table table-bordered",children:[(0,j.jsx)("thead",{className:"thead-light",children:(0,j.jsxs)("tr",{children:[(0,j.jsx)("th",{scope:"col",style:{color:"black"},children:"Gym Id"}),(0,j.jsx)("th",{scope:"col",style:{color:"black"},children:"Name"}),(0,j.jsx)("th",{scope:"col",style:{color:"black"},children:"Phone"}),(0,j.jsx)("th",{scope:"col",style:{color:"black"},children:"Validity"}),(0,j.jsx)("th",{scope:"col",style:{color:"black"},children:"Active"}),(0,j.jsx)("th",{scope:"col",style:{color:"black"},children:"Paid"}),(0,j.jsx)("th",{scope:"col",style:{color:"black"},children:"Edit/Remove"}),(0,j.jsx)("th",{scope:"col",style:{color:"black"},children:"View"})]})}),(0,j.jsx)("tbody",{children:C.map((function(e){return(0,j.jsx)(y.vG,{member:e,loadAllCustomers:Q},e._id)}))})]})})}):(0,j.jsx)("p",{style:{color:"black"},children:"No Customers Found"})]}),(0,j.jsx)(f.Z,{children:(0,j.jsx)("nav",{className:"col-md-4 offset-md-4 text-center pt-2 p-3",children:(0,j.jsx)(x.Z,{current:S,total:10*Math.ceil(N/10),onChange:function(e){return L(e)}})})})]})}}}]);
//# sourceMappingURL=124.ed7129b2.chunk.js.map