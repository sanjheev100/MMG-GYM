"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[870],{4558:function(e,t,n){n.d(t,{n:function(){return i}});var r={};!function e(t,n,r,a){var o=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL);function i(){}function s(e){var r=n.exports.Promise,a=void 0!==r?r:t.Promise;return"function"===typeof a?new a(e):(e(i,i),null)}var l=function(){var e,t,n=Math.floor(1e3/60),r={},a=0;return"function"===typeof requestAnimationFrame&&"function"===typeof cancelAnimationFrame?(e=function(e){var t=Math.random();return r[t]=requestAnimationFrame((function o(i){a===i||a+n-1<i?(a=i,delete r[t],e()):r[t]=requestAnimationFrame(o)})),t},t=function(e){r[e]&&cancelAnimationFrame(r[e])}):(e=function(e){return setTimeout(e,n)},t=function(e){return clearTimeout(e)}),{frame:e,cancel:t}}(),c=function(){var t,n,a={};return function(){if(t)return t;if(!r&&o){var i=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join("\n");try{t=new Worker(URL.createObjectURL(new Blob([i])))}catch(l){return void 0!==typeof console&&"function"===typeof console.warn&&console.warn("\ud83c\udf8a Could not load worker",l),null}!function(e){function t(t,n){e.postMessage({options:t||{},callback:n})}e.init=function(t){var n=t.transferControlToOffscreen();e.postMessage({canvas:n},[n])},e.fire=function(r,o,i){if(n)return t(r,null),n;var l=Math.random().toString(36).slice(2);return n=s((function(o){function s(t){t.data.callback===l&&(delete a[l],e.removeEventListener("message",s),n=null,i(),o())}e.addEventListener("message",s),t(r,l),a[l]=s.bind(null,{data:{callback:l}})}))},e.reset=function(){for(var t in e.postMessage({reset:!0}),a)a[t](),delete a[t]}}(t)}return t}}(),u={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function d(e,t,n){return function(e,t){return t?t(e):e}(e&&(null!==(r=e[t])&&void 0!==r)?e[t]:u[t],n);var r}function h(e){return e<0?0:Math.floor(e)}function f(e){return parseInt(e,16)}function g(e){return e.map(m)}function m(e){var t=String(e).replace(/[^0-9a-f]/gi,"");return t.length<6&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),{r:f(t.substring(0,2)),g:f(t.substring(2,4)),b:f(t.substring(4,6))}}function p(e){e.width=document.documentElement.clientWidth,e.height=document.documentElement.clientHeight}function v(e){var t=e.getBoundingClientRect();e.width=t.width,e.height=t.height}function b(e){var t=e.angle*(Math.PI/180),n=e.spread*(Math.PI/180);return{x:e.x,y:e.y,wobble:10*Math.random(),velocity:.5*e.startVelocity+Math.random()*e.startVelocity,angle2D:-t+(.5*n-Math.random()*n),tiltAngle:Math.random()*Math.PI,color:e.color,shape:e.shape,tick:0,totalTicks:e.ticks,decay:e.decay,drift:e.drift,random:Math.random()+5,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:3*e.gravity,ovalScalar:.6,scalar:e.scalar}}function y(e,t,n,o,i){var c,u,d=t.slice(),h=e.getContext("2d"),f=s((function(t){function s(){c=u=null,h.clearRect(0,0,o.width,o.height),i(),t()}c=l.frame((function t(){!r||o.width===a.width&&o.height===a.height||(o.width=e.width=a.width,o.height=e.height=a.height),o.width||o.height||(n(e),o.width=e.width,o.height=e.height),h.clearRect(0,0,o.width,o.height),d=d.filter((function(e){return function(e,t){t.x+=Math.cos(t.angle2D)*t.velocity+t.drift,t.y+=Math.sin(t.angle2D)*t.velocity+t.gravity,t.wobble+=.1,t.velocity*=t.decay,t.tiltAngle+=.1,t.tiltSin=Math.sin(t.tiltAngle),t.tiltCos=Math.cos(t.tiltAngle),t.random=Math.random()+5,t.wobbleX=t.x+10*t.scalar*Math.cos(t.wobble),t.wobbleY=t.y+10*t.scalar*Math.sin(t.wobble);var n=t.tick++/t.totalTicks,r=t.x+t.random*t.tiltCos,a=t.y+t.random*t.tiltSin,o=t.wobbleX+t.random*t.tiltCos,i=t.wobbleY+t.random*t.tiltSin;return e.fillStyle="rgba("+t.color.r+", "+t.color.g+", "+t.color.b+", "+(1-n)+")",e.beginPath(),"circle"===t.shape?e.ellipse?e.ellipse(t.x,t.y,Math.abs(o-r)*t.ovalScalar,Math.abs(i-a)*t.ovalScalar,Math.PI/10*t.wobble,0,2*Math.PI):function(e,t,n,r,a,o,i,s,l){e.save(),e.translate(t,n),e.rotate(o),e.scale(r,a),e.arc(0,0,1,i,s,l),e.restore()}(e,t.x,t.y,Math.abs(o-r)*t.ovalScalar,Math.abs(i-a)*t.ovalScalar,Math.PI/10*t.wobble,0,2*Math.PI):(e.moveTo(Math.floor(t.x),Math.floor(t.y)),e.lineTo(Math.floor(t.wobbleX),Math.floor(a)),e.lineTo(Math.floor(o),Math.floor(i)),e.lineTo(Math.floor(r),Math.floor(t.wobbleY))),e.closePath(),e.fill(),t.tick<t.totalTicks}(h,e)})),d.length?c=l.frame(t):s()})),u=s}));return{addFettis:function(e){return d=d.concat(e),f},canvas:e,promise:f,reset:function(){c&&l.cancel(c),u&&u()}}}function w(e,n){var r,a=!e,i=!!d(n||{},"resize"),l=d(n,"disableForReducedMotion",Boolean),u=o&&!!d(n||{},"useWorker")?c():null,f=a?p:v,m=!(!e||!u)&&!!e.__confetti_initialized,w="function"===typeof matchMedia&&matchMedia("(prefers-reduced-motion)").matches;function x(t,n,a){for(var o,i,s=d(t,"particleCount",h),l=d(t,"angle",Number),c=d(t,"spread",Number),u=d(t,"startVelocity",Number),m=d(t,"decay",Number),p=d(t,"gravity",Number),v=d(t,"drift",Number),w=d(t,"colors",g),x=d(t,"ticks",Number),M=d(t,"shapes"),k=d(t,"scalar"),C=function(e){var t=d(e,"origin",Object);return t.x=d(t,"x",Number),t.y=d(t,"y",Number),t}(t),I=s,E=[],j=e.width*C.x,S=e.height*C.y;I--;)E.push(b({x:j,y:S,angle:l,spread:c,startVelocity:u,color:w[I%w.length],shape:M[(o=0,i=M.length,Math.floor(Math.random()*(i-o))+o)],ticks:x,decay:m,gravity:p,drift:v,scalar:k}));return r?r.addFettis(E):(r=y(e,E,f,n,a)).promise}function M(n){var o=l||d(n,"disableForReducedMotion",Boolean),c=d(n,"zIndex",Number);if(o&&w)return s((function(e){e()}));a&&r?e=r.canvas:a&&!e&&(e=function(e){var t=document.createElement("canvas");return t.style.position="fixed",t.style.top="0px",t.style.left="0px",t.style.pointerEvents="none",t.style.zIndex=e,t}(c),document.body.appendChild(e)),i&&!m&&f(e);var h={width:e.width,height:e.height};function g(){if(u){var t={getBoundingClientRect:function(){if(!a)return e.getBoundingClientRect()}};return f(t),void u.postMessage({resize:{width:t.width,height:t.height}})}h.width=h.height=null}function p(){r=null,i&&t.removeEventListener("resize",g),a&&e&&(document.body.removeChild(e),e=null,m=!1)}return u&&!m&&u.init(e),m=!0,u&&(e.__confetti_initialized=!0),i&&t.addEventListener("resize",g,!1),u?u.fire(n,h,p):x(n,h,p)}return M.reset=function(){u&&u.reset(),r&&r.reset()},M}n.exports=w(null,{useWorker:!0,resize:!0}),n.exports.create=w}(function(){return"undefined"!==typeof window?window:"undefined"!==typeof self?self:this||{}}(),r,!1);var a=r.exports;r.exports.create;function o(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1)+e)}var i=function(){a({angle:o(55,125),spread:o(50,70),particleCount:o(50,200),origin:{y:.6}})}},1870:function(e,t,n){n.r(t);var r=n(5861),a=n(1413),o=n(9439),i=n(7757),s=n.n(i),l=n(2791),c=n(3504),u=n(3855),d=n(3360),h=n(9743),f=n(2677),g=n(2794),m=n(6031),p=n(6030),v=n(6871),b=n(577),y=n(4558),w=n(8709),x=n(184);t.default=function(){var e=(0,l.useState)(""),t=(0,o.Z)(e,2),n=t[0],i=t[1],M=(0,l.useState)(""),k=(0,o.Z)(M,2),C=k[0],I=k[1],E=(0,l.useState)(!1),j=(0,o.Z)(E,2),S=j[0],Z=j[1],N=(0,p.v9)((function(e){return(0,a.Z)({},e)})).user,T=(0,p.I0)(),P=(0,v.s0)();(0,l.useEffect)((function(){(N&&"manager"==N.role||N&&"admin"==N.role)&&P("/allcustomers")}),[]);var F=function(){var e=(0,r.Z)(s().mark((function e(t){var r,a,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),Z(!0),e.prev=2,e.next=5,m.b.signInWithEmailAndPassword(n,C);case 5:return r=e.sent,a=r.user,e.next=9,a.getIdTokenResult();case 9:o=e.sent,Z(!0),(0,w.XB)(o.token).then((function(e){T({type:"LOGGED_IN_USER",payload:{name:e.data.name,email:e.data.email,token:o.token,role:e.data.role,_id:e.data._id}}),i(""),I(""),b.Am.success("Welcome ".concat(e.data.role)),P("/allcustomers")})).catch((function(e){b.Am.error(e,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})),Z(!1),(0,y.n)(),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(2),Z(!1),b.Am.error(e.t0.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 20:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=(0,r.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Z(!0),m.b.signInWithPopup(m.q).then(function(){var e=(0,r.Z)(s().mark((function e(t){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.user,e.next=3,n.getIdTokenResult();case 3:r=e.sent,(0,w.XB)(r.token).then((function(e){T({type:"LOGGED_IN_USER",payload:{name:e.data.name,email:e.data.email,token:r.token,role:e.data.role,_id:e.data._id}}),b.Am.success("Welcome ".concat(e.data.role)),P("/allcustomers"),(0,y.n)()})).catch((function(e){console.log(e)})),Z(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){Z(!1),console.log(e.message),b.Am.error(e.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(g.Yb,{children:S?"loading from login":(0,x.jsx)(x.Fragment,{children:N&&N.token?void P("/allcustomers"):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("h1",{children:"Sign In"}),(0,x.jsxs)(u.Z,{onSubmit:F,children:[(0,x.jsxs)(u.Z.Group,{controlId:"email",children:[(0,x.jsx)(u.Z.Label,{children:(0,x.jsx)("strong",{children:"Email Address"})}),(0,x.jsx)(u.Z.Control,{type:"email",autoFocus:!0,placeholder:"Enter your Email",value:n,onChange:function(e){return i(e.target.value)}})]}),(0,x.jsxs)(u.Z.Group,{controlId:"password",children:[(0,x.jsx)(u.Z.Label,{children:(0,x.jsx)("strong",{children:"Password"})}),(0,x.jsx)(u.Z.Control,{type:"password",placeholder:"Enter your Password",value:C,autoComplete:"on",onChange:function(e){return I(e.target.value)}})]}),(0,x.jsxs)(d.Z,{onClick:function(e){return F(e)},type:"submit",className:"mt-3 btn btn-primary",disabled:!n||C.length<6||N&&N.token,children:[(0,x.jsx)("i",{className:"fa fa-sign-in","aria-hidden":"true"})," Login With Mail/Password \xa0"]}),(0,x.jsx)("br",{}),(0,x.jsxs)(d.Z,{onClick:function(){return O()},type:"button",className:"mt-2 btn btn-danger",disabled:N&&N.token,children:[(0,x.jsx)("i",{className:"fa fa-sign-in","aria-hidden":"true"}),"  "," Login With Google Account"]})]}),(0,x.jsx)(h.Z,{className:"py-3",children:(0,x.jsxs)(f.Z,{children:["Can't Login? ",(0,x.jsx)(c.rU,{to:"/register",children:"Register Now"}),"\xa0or"," ",(0,x.jsx)(c.rU,{to:"/forgot/password",className:"text-danger",children:"Forgot Password"})]})})]})})})})}}}]);
//# sourceMappingURL=870.cbb69f23.chunk.js.map